# Progress Report — 2026-02-10

## Summary
Polish + UX day focused on: rejoin/drop handling, misclick takeback (undo), Rook High/Low setting end-to-end, and a large UI refresh toward a table-style look (more realistic cards + table layout).

## Gameplay / Settings
- Implemented **Rook High / Rook Low** as a **per-game setting** end-to-end:
  - server stores `rookRankMode`
  - server uses it for legality + trick winner
  - UI uses it for sorting and Rook placement in trump column
  - lobby exposes a simple High/Low selector

## Misclick Takeback (Undo)
- Implemented **Undo Last Play**:
  - only last player to act
  - only until next player acts
- Hardened edge cases:
  - **no undo after trick completion** (4th card)
  - undo button moved into the **Your Hand** header; removed extra panel

## Rejoin / Drop Handling
- Added disconnect-based seat release plus improvements to support device switching.
- Added **manual seat drop** control (any player can click “Drop” on a seat) with server safety check:
  - only clears if occupant is truly not connected.
- Added mid-game seat selection UI improvements (open/taken indicators + clickable open seats).

## UI (Table vibe)
- Updated card rendering to a more **realistic playing-card** style (corners, center mark, aspect ratio, shadows).
- Reduced overall card sizing to avoid excessive scrolling.
- Implemented **table-style trick layout** (top/left/right/bottom seats) with opponent **card counts**.
- Adjusted layout rules:
  - **Your Hand panel on the left** (wide screens)
  - during trick play: **1/3 hand, 2/3 table** (wide screens)
- Simplified bidder-only panels:
  - hide Kitty/Declare Trump panels when no longer actionable
  - moved bid history into the action block
  - moved phase/waiting info into the top header

## Kitty UX
- Removed “Pickup Kitty” button.
- Kitty is **auto-added** to bidder’s hand when bidding completes.
- Kitty cards are highlighted (red border) during kitty/discard phase.

## Validation
- All unit tests passing (`npm test`).

## Next
- Continue UI tightening (spacing/overlaps, felt background, mobile portrait simplification).
- Consider Game Over/target-score end state + new game.
